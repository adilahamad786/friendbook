"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[892],{4259:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var s=r(885),a="CreateStory_createStory__cBhKO",n="CreateStory_add__spLNq",o=r(2791),i=r(1302),u=r(1224),c=r(9434),l=r.p+"static/media/noStory.f403725ac4c54391498b.jpg",d=r(184),f=function(){var e=(0,o.useState)(void 0),t=(0,s.Z)(e,2),r=t[0],f=t[1],p=(0,o.useContext)(u.Z),y=p.token,h=p.setLogedOut,m=(0,c.v9)((function(e){return e.user})),g=m.storyUrl,C=m.username,j=(0,i.Z)(),b=j.error,v=j.sendRequest;return(0,o.useEffect)((function(){b&&(alert(b.message),"unauthorized"===b.errorType&&h())}),[b,h]),(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)("img",{src:r?URL.createObjectURL(r):g||l,alt:"CreateStory"}),(0,d.jsx)("input",{type:"file",onChange:function(e){if(f(e.target.files[0]),e.target.files[0]){var t=new FormData;t.append("story",e.target.files[0]),v({url:"/api/user/create-story",method:"PUT",headers:{Authorization:y},body:t},(function(e){}))}},name:"story",id:"story"}),(0,d.jsx)("span",{children:C.toUpperCase()}),(0,d.jsx)("label",{htmlFor:"story",className:n,children:"+"})]})}}}]);
//# sourceMappingURL=892.45c785e0.chunk.js.map